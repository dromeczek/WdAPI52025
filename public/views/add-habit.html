<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZASIANE â€“ Dodaj Nawyk</title>

    <!-- wspÃ³lne + dedykowane style -->
    <link rel="stylesheet" href="/public/styles/common.css">
    <link rel="stylesheet" href="/public/styles/add-habit.css">
</head>
<body>

<nav class="top-nav">
    <a href="/dashboard" class="logo">
        <img src="/public/images/logo.png" alt="ZASIANE">
    </a>

    <div class="user-icons">
        <a href="/dashboard" title="Profil / Dashboard" style="text-decoration:none;">ðŸ‘¤</a>
        <a href="/logout" title="Wyloguj" style="text-decoration:none;">ðŸšª</a>
    </div>
</nav>

<div class="main-container">
    <div class="split-card">

        <!-- LEWA: formularz -->
        <div class="form-side">
            <h2 class="page-title">PosadÅº nowÄ… roÅ›linÄ™</h2>

            <form action="/addHabit" method="POST">
                <label for="name">Nazwa nawyku:</label>
                <input type="text" id="name" name="name" placeholder="np. Bieganie" required>

                <label for="target_days">CzÄ™stotliwoÅ›Ä‡:</label>
                <select id="target_days" name="target_days">
                    <option value="1">1 dzieÅ„ w tygodniu</option>
                    <option value="3">3 dni w tygodniu</option>
                    <option value="5">5 dni w tygodniu</option>
                    <option value="7" selected>Codziennie</option>
                </select>

                <button type="submit" class="btn-submit">Dodaj do ogrodu</button>

                <a class="btn-cancel" href="/dashboard">Anuluj</a>
            </form>
        </div>

        <!-- PRAWA: podglÄ…d -->
        <div class="preview-side">
            <div class="preview-icon" id="previewIcon">ðŸŒ±</div>
            <div class="preview-title">PodglÄ…d roÅ›liny</div>
            <div class="preview-sub" id="previewText">Nowy nawyk</div>
        </div>

    </div>
</div>

<script>
    const nameInput = document.getElementById('name');
    const freqSelect = document.getElementById('target_days');
    const previewText = document.getElementById('previewText');
    const previewIcon = document.getElementById('previewIcon');

    function updatePreview() {
        const name = nameInput.value.trim();
        previewText.textContent = name !== '' ? name : 'Nowy nawyk';

        const v = parseInt(freqSelect.value, 10);
        // proÅ›ciutki â€œpodglÄ…dâ€ zaleÅ¼ny od czÄ™stotliwoÅ›ci
        if (v >= 7) previewIcon.textContent = 'ðŸŒ³';
        else if (v >= 5) previewIcon.textContent = 'ðŸŒ¿';
        else if (v >= 3) previewIcon.textContent = 'ðŸŒ±';
        else previewIcon.textContent = 'ðŸ¥€';
    }

    nameInput.addEventListener('input', updatePreview);
    freqSelect.addEventListener('change', updatePreview);
    updatePreview();
</script>

</body>
</html>
